@model RMS.Web.Models.ViewModel.UpdateOplStateViewModel

@{
    /**/

    ViewBag.Title = "Log in";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .timelineleft:before {
        left: 9px;
    }

    .timelineleft > li {
        margin-bottom: 10px;
    }

    .width-150px {
        width: 250px;
        display: inline-block;
    }

    .card-header {
        background-color: #e4e3e8;
    }
</style>





@if (Model.DashboardFor == "Admin")

{
    <!-- Row -->
    <div class="row">
        <div class="col-lg-3 col-md-6">
            <div class="card bg-gradient-secondary img-card overflow-hidden">
                <div class="card-body">
                    <div class="d-flex">
                        <div class="mr-5">
                            <div class="ecommerce-icon">
                                <img src="~/Resource/assets/images/png/SHIPS.png" alt="img">
                            </div>
                        </div>
                        <div class="text-white mt-3">
                            <p class="mb-1 font-weight-semibold fs-14"> Total Ship </p>
                            <h2 class="mt-1 mb-0 fs-30 font-weight-bold ">@Model.TotalShip</h2>
                        </div>
                    </div>
                </div>
                <img src="~/Resource/assets/images/png/circle.png" alt="img" class="img-card-circle">
            </div>
        </div>
        <div class="col-lg-3 col-md-6">
            <div class="card bg-gradient-success img-card overflow-hidden">
                <div class="card-body">
                    <div class="d-flex">
                        <div class="mr-5">
                            <div class="ecommerce-icon">
                                <img src="~/Resource/assets/images/png/BOAT.png" alt="img">
                            </div>
                        </div>
                        <div class="text-white mt-3">
                            <p class="mb-1 font-weight-semibold fs-14"> Total Boat </p>
                            <h2 class="mt-1 mb-0 fs-30 font-weight-bold ">@Model.TotalBoat</h2>
                        </div>
                    </div>
                </div>
                <img src="~/Resource/assets/images/png/circle.png" alt="img" class="img-card-circle">
            </div>
        </div>
        <div class="col-lg-3 col-md-6">
            <div class="card bg-gradient-danger img-card overflow-hidden">
                <div class="card-body">
                    <div class="d-flex">
                        <div class="mr-5">
                            <div class="ecommerce-icon">
                                <img src="~/Resource/assets/images/png/Pontoon.png" alt="img">
                            </div>
                        </div>
                        <div class="text-white mt-3">
                            <p class="mb-1 font-weight-semibold fs-14"> Total Pontoon </p>
                            <h2 class="mt-1 mb-0 fs-30 font-weight-bold ">@Model.TotalPontoon</h2>
                        </div>
                    </div>
                </div>
                <img src="~/Resource/assets/images/png/circle.png" alt="img" class="img-card-circle">
            </div>
        </div>
        <div class="col-lg-3 col-md-6">
            <div class="card bg-gradient-info img-card overflow-hidden">
                <div class="card-body">
                    <div class="d-flex">
                        <div class="mr-5">
                            <div class="ecommerce-icon">
                                <img src="~/Resource/assets/images/png/Est.png" alt="img">
                            </div>
                        </div>
                        <div class="text-white mt-3">
                            <p class="mb-1 font-weight-semibold fs-14"> Total Establishment </p>
                            <h2 class="mt-1 mb-0 fs-30 font-weight-bold ">@Model.TotalEstablishment</h2>
                        </div>
                    </div>
                </div>
                <img src="~/Resource/assets/images/png/circle.png" alt="img" class="img-card-circle">
            </div>
        </div>
    </div>
    <!-- End Row -->
    <!-- Row -->
    <div class="row row-deck">
        <div class="col-lg-4 col-12">
            <div class="card overflow-hidden">
                <div class="card-header">
                    <div>
                        <h3 class="card-title"> BN FLEET Under Admin Authority</h3>
                    </div>
                    <div class="card-options d-none d-sm-block">
                        <a href="" class="text-dark mr-4" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">
                            <span class="fe fe-more-horizontal fs-20"></span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <li><a href="@Url.Action("IndexDisplay", "ControlShipInfo", null)"><i class="fe fe-eye mr-2"></i>View</a></li>
                            <li><a href="@Url.Action("StateofShipIndex", "ControlShipInfo", null)"><i class="fe fe-plus-circle mr-2"></i>Add</a></li>
                        </ul>
                    </div>
                </div>
                <div class="card-body pt-0">
                    <div class="d-flex p-3">
                        <ul class="parent nav-pills nav-stacked">
                            @foreach (var ch1 in Model.branchInfos)
                            {
                                <li>
                                    <a class="btn @ch1.ContactPerson width-150px" style="color:white; margin-bottom:3px;" href="@Url.Action("IndexOrgBranchDisplay", "ControlShipInfo", new {OrgBranchId= ch1.BranchInfoIdentity })">@ch1.BranchName </a>
                                </li>
                            }
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-12">
            <div class="card overflow-hidden">
                <div class="card-header">
                    <div>
                        <h3 class="card-title"> Major Machinery/Equipment State</h3>
                    </div>
                    <div class="card-options d-none d-sm-block">
                        <a href="" class="text-dark mr-4" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">
                            <span class="fe fe-more-horizontal fs-20"></span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <li><a href="@Url.Action("Index", "MachineryInfo", null)"><i class="fe fe-eye mr-2"></i>View</a></li>
                            <li><a href="@Url.Action("Edit", "MachineryInfo", null)"><i class="fe fe-plus-circle mr-2"></i>Add</a></li>
                        </ul>
                    </div>
                </div>
                <div class="card-body pt-0">
                    <div class="d-flex p-3">
                        <ul class="parent nav-pills nav-stacked">
                            @foreach (var ch1 in Model.EquipmentTypes)
                            {
                                <li>
                                    <a class="btn @ch1.AdditonalValue width-150px" style="color:white; margin-bottom:2px;" href="@Url.Action("MachinaryInfoByName", "MachineryInfo", new {SearchKey= ch1.CommonCodeID, EquipmentTypeName=ch1.TypeValue })">@ch1.TypeValue</a>
                                </li>
                            }
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-12">
            <div class="card overflow-hidden">
                <div class="card-header">
                    <div>
                        <h3 class="card-title">  Ship's State (NON-Opl)</h3>
                    </div>
                    <div class="card-options d-none d-sm-block">
                        <a href="" class="text-dark mr-4" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">
                            <span class="fe fe-more-horizontal fs-20"></span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <li><a href="#"><i class="fe fe-eye mr-2"></i>View</a></li>
                            <li><a href="#"><i class="fe fe-plus-circle mr-2"></i>Add</a></li>
                            <li><a href="#"><i class="fe fe-trash-2 mr-2"></i>Remove</a></li>
                            <li><a href="#"><i class="fe fe-download-cloud mr-2"></i>Download</a></li>
                            <li><a href="#"><i class="fe fe-settings mr-2"></i>More</a></li>
                        </ul>
                    </div>
                </div>
                <div class="card-body pt-0">
                    <div class="d-flex p-3">
                        <ol class="parent nav-pills nav-stacked">
                            @foreach (var ch1 in Model.controlShipInfos)
                            {
                                <li>
                                    <a href="@Url.Action("ShipInfoDetails", "ControlShipInfo", new {SearchKey= ch1.ControlShipInfoId })">@ch1.ControlName</a>
                                </li>
                            }
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Row -->


    <!-- Row -->
    <div class="row row-deck">
        <div class="col-lg-4 col-12">
            <div class="card overflow-hidden">
                <div class="card-header">
                    <div>
                        <h3 class="card-title"> Ship's Refit/Docking State</h3>
                    </div>
                    <div class="card-options d-none d-sm-block">
                        <a href="" class="text-dark mr-4" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">
                            <span class="fe fe-more-horizontal fs-20"></span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <li><a href="@Url.Action("Index", "RefitDockingSchedule", null)"><i class="fe fe-eye mr-2"></i>View</a></li>
                            <li><a href="@Url.Action("Edit", "RefitDockingSchedule", null)"><i class="fe fe-plus-circle mr-2"></i>Add</a></li>

                        </ul>
                    </div>
                </div>
                <div class="card-body pt-0">
                    <div class="d-flex p-3">
                        <ol class="parent nav-pills nav-stacked">
                            @foreach (var ch1 in Model.refitDockingSchedules)
                            {
                                <li>
                                    <a href="@Url.Action("Index", "RefitDockingSchedule", new {SearchKey= ch1.RefitDockingIdentity})">@ch1.ControlShipInfo.ControlName</a>
                                </li>
                            }
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-12">
            <div class="card overflow-hidden">
                <div class="card-header">
                    <div>
                        <h3 class="card-title">  Ships’ AS & As State</h3>
                    </div>
                    <div class="card-options d-none d-sm-block">
                        <a href="" class="text-dark mr-4" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">
                            <span class="fe fe-more-horizontal fs-20"></span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <li><a href="#"><i class="fe fe-eye mr-2"></i>View</a></li>
                            <li><a href="#"><i class="fe fe-plus-circle mr-2"></i>Add</a></li>

                        </ul>
                    </div>
                </div>
                <div class="card-body pt-0">
                    <div class="d-flex p-3">
                        <ol class="parent nav-pills nav-stacked">
                            @foreach (var ch1 in Model.asAndAsInfos)
                            {
                                <li>
                                    <a href="@Url.Action("Index", "AsAs", new {SearchKey= ch1.AsAndAsIdentity })">@ch1.ControlShipInfo.ControlName</a>
                                </li>
                            }
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-12">
            <div class="card overflow-hidden">
                <div class="card-header">
                    <div>
                        <h3 class="card-title">Ships Drawing</h3>
                    </div>
                </div>
                <div class="card-body pb-0">
                    <div class="d-flex p-3">
                        <ol class="parent nav-pills nav-stacked">
                            @foreach (var ch1 in Model.Documentations)
                            {
                                <li>
                                    <a target="_blank" href="@ch1.ImageUrl">@ch1.ControlShipInfo.ControlName</a>
                                </li>
                            }
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Row -->





    <!-- Row -->
    <div class="row row-deck">
        <div class="col-lg-12 col-12">
            <div class="card overflow-hidden">
                <div class="card-header">
                    <div>
                        <h3 class="card-title">Monthly Returns</h3>
                    </div>
                    <div class="card-options d-none d-sm-block">
                        <a href="" class="text-dark mr-4" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">
                            <span class="fe fe-more-horizontal fs-20"></span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <li><a href="@Url.Action("MonthlyReturnIndex", "DamageMachineriesInfo", null)"><i class="fe fe-eye mr-2"></i>View</a></li>
                            <li><a href="@Url.Action("MonthlyReturnEdit", "DamageMachineriesInfo", null)"><i class="fe fe-plus-circle mr-2"></i>Add</a></li>
                        </ul>
                    </div>
                </div>
                <div class="card-body">
                    <div class="table-responsive orders-table">
                        <table id="example3" class="table table-bordered text-nowrap  mb-0">
                            <thead>
                                <tr class="bold border-bottom">
                                    <th class="border-bottom-0">Ship Name</th>
                                    <th class="border-bottom-0">Return Month</th>
                                    <th class="border-bottom-0">Status </th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.MonthlyReturns)
                                {
                                    <tr>
                                        <td>
                                            <a class="notification" href="@Url.Action("MonthlyReturnView", "DamageMachineriesInfo", new {id= item.MonthlyReturnId })">@item.ControlShipInfo.ControlName</a>

                                        </td>
                                        <td class="text-muted">@item.ReturnReportNo.ReturnSerialNo / @item.ReportYearId</td>
                                        @if (item.MonthlyReturnStatus == true)
                                        {
                                            <td><span class="badge badge-success-light">Completed</span></td>

                                        }
                                        else
                                        {
                                            <td><span class="badge badge-danger-light">New</span></td>
                                        }
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Row -->



    <!-- Row -->
    <div class="row row-deck">
        <div class="col-lg-12 col-12">
            <div class="card overflow-hidden">
                <div class="card-header">
                    <div>
                        <h3 class="card-title">Quaterly Returns</h3>
                    </div>
                    <div class="card-options d-none d-sm-block">
                        <a href="" class="text-dark mr-4" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">
                            <span class="fe fe-more-horizontal fs-20"></span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <li><a href="@Url.Action("QuaterlyReturnIndex", "DamageMachineriesInfo", null)"><i class="fe fe-eye mr-2"></i>View</a></li>
                            <li><a href="@Url.Action("QuaterlyReturnEdit", "DamageMachineriesInfo", null)"><i class="fe fe-plus-circle mr-2"></i>Add</a></li>
                        </ul>
                    </div>
                </div>
                <div class="card-body">
                    <div class="table-responsive orders-table">
                        <table id="example3" class="table table-bordered text-nowrap  mb-0">
                            <thead>
                                <tr class="bold border-bottom">
                                    <th class="border-bottom-0">Ship Name</th>
                                    <th class="border-bottom-0">Return Month</th>
                                    <th class="border-bottom-0">Status </th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.quaterlyReturns)
                                {
                                    <tr>
                                        <td>
                                            <a class="notification" href="@Url.Action("QuaterlyReturnView", "DamageMachineriesInfo", new {id= item.QuaterlyReturnId })">@item.ControlShipInfo.ControlName</a>

                                        </td>
                                        <td class="text-muted">@item.ReturnReportNo.ReturnSerialNo / @item.ReturnReportYear.Name</td>
                                        @if (item.QuaterlyReturnStatus == true)
                                        {
                                            <td><span class="badge badge-success-light">Completed</span></td>

                                        }
                                        else
                                        {
                                            <td><span class="badge badge-danger-light">New</span></td>
                                        }
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Row -->
}
else if (Model.DashboardFor == "DirectorateAndDockyardUser")
{
    <!-- Row -->
    <div class="row">
        <div class="col-lg-4 col-12">
            <div class="card bg-gradient-secondary img-card overflow-hidden">
                <div class="card-body">
                    <div class="d-flex">
                        <div class="text-white mt-3">
                            <p><b>Total Ships:</b> @Model.TotalShip</p>
                            <p><b>Total NON-Opl Ships:</b>@Model.TotalNonOplShip</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-8 col-12">
            <div class="card bg-gradient-success img-card overflow-hidden">
                <div class="card-body">
                    <div class="d-flex">
                        <div class="text-white mt-3">
                            <p><b>Bulletins:</b></p>
                            <h2 class="mt-1 mb-0 fs-30 font-weight-normal"><marquee>@Model.Bulletin</marquee></h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Row -->
}
else
{
    <!-- Row -->
    <div class="row">
        <div class="col-lg-4 col-12">
            <div class="card bg-gradient-secondary img-card overflow-hidden">
                <div class="card-body">
                    <div class="d-flex">
                        <div class="text-white mt-3">
                            <p><b>User Name:</b> @Model.UserFullName</p>
                            <p><b>Admin Authority:</b>@Model.BranchName</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-8 col-12">
            <div class="card bg-gradient-success img-card overflow-hidden">
                <div class="card-body">
                    <div class="d-flex">
                        <div class="text-white mt-3">
                            <p><b>Bulletins:</b></p>
                            <h2 class="mt-1 mb-0 fs-30 font-weight-normal"><marquee>@Model.Bulletin</marquee></h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Row -->

    <!-- Row -->
    <div class="row row-deck">
        <div class="col-lg-4 col-12">
            <div class="card overflow-hidden">
                <div class="card-header">
                    <div>
                        <h3 class="card-title">  Machinery/Equipment State (NON-Opl)</h3>
                    </div>
                    <div class="card-options d-none d-sm-block">
                        <a href="" class="text-dark mr-4" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">
                            <span class="fe fe-more-horizontal fs-20"></span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <li><a href="#"><i class="fe fe-eye mr-2"></i>View</a></li>
                        </ul>
                    </div>
                </div>
                <div class="card-body pt-0">
                    <div class="d-flex p-3">
                        <ol class="parent nav-pills nav-stacked">
                            @foreach (var ch1 in Model.machineryInfos.Where(x => x.MachinariesState != 974))
                            {
                                <li>
                                    <a href="@Url.Action("MachineryDetails", "MachineryInfo", new {id= ch1.MachineryInfoIdentity })">@ch1.Machinery</a>
                                </li>
                            }
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-12">
            <div class="card overflow-hidden">
                <div class="card-header">
                    <div>
                        <h3 class="card-title"> Major Machinery/Equipment State</h3>
                    </div>
                    <div class="card-options d-none d-sm-block">
                        <a href="" class="text-dark mr-4" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">
                            <span class="fe fe-more-horizontal fs-20"></span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <li><a href="@Url.Action("Index", "MachineryInfo" , null)"><i class="fe fe-eye mr-2"></i>View</a></li>
                            <li><a href="@Url.Action("Edit", "MachineryInfo" , null)"><i class="fe fe-plus-circle mr-2"></i>Add</a></li>
                        </ul>
                    </div>
                </div>
                <div class="card-body pt-0">
                    <div class="d-flex p-3">
                        <ul class="parent nav-pills nav-stacked">
                            @foreach (var ch1 in Model.EquipmentTypes)
                            {
                                <li>
                                    <a class="btn @ch1.AdditonalValue width-150px" style="color:white; margin-bottom:2px;" href="@Url.Action("MachinaryInfoByName", "MachineryInfo" , new {SearchKey=ch1.CommonCodeID, EquipmentTypeName=ch1.TypeValue })">@ch1.TypeValue</a>
                                </li>
                            }
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-12">
            <div class="card overflow-hidden">
                <div class="card-header">
                    <div>
                        <h3 class="card-title">Drawing Information</h3>
                    </div>
                    <div class="card-options d-none d-sm-block">
                        <a href="" class="text-dark mr-4" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">
                            <span class="fe fe-more-horizontal fs-20"></span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <li><a href="#"><i class="fe fe-eye mr-2"></i>View</a></li>
                            <li><a href="#"><i class="fe fe-plus-circle mr-2"></i>Add</a></li>
                        </ul>
                    </div>
                </div>
                <div class="card-body pt-0">
                    <div class="d-flex p-3">
                        <ol class="parent nav-pills nav-stacked">
                            @foreach (var ch1 in Model.Documentations)
                            {
                                <li>
                                    <a target="_blank" href="@ch1.ImageUrl">@ch1.CommonCode.TypeValue</a>
                                </li>
                            }
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Row -->
}



<script>
    function myFunction(id) {
        var x = document.getElementById(id);
        if (x.className.indexOf("w3-show") == -1) {
            x.className += " w3-show";
        } else {
            x.className = x.className.replace(" w3-show", "");
        }
    }
</script>

@section scripts
{
    <script src="~/Scripts/APP/treeView.js"></script>
}





